{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_set.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","node_modules/@swc/helpers/lib/_class_private_field_set.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/gallery.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorSet;\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldSet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorSet = _interopRequireDefault(require(\"./_class_apply_descriptor_set\"));\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"set\");\n    (0, _classApplyDescriptorSet).default(receiver, descriptor, value);\n    return value;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","/*  У цій задачі потрібно написати скрипт, який дозволить шукати фотографії за запитом, використовуючи API Unsplash. Вам необхідно зробити запит на сервер API Unsplash зі словом, введеним користувачем у вікно пошуку. Результати повинні виводитися в галереї зображень. Використовуй класовий підхід для створення запитів.\nВикористовуй html з файлу infinite_scroll.html.\n\nКоли користувач вводить запит для пошуку та натискає кнопку пошуку, скрипт робить запит до API Unsplash та отримує список зображень. Якщо з користувач нічого не ввів і намагається зробити запит виводь Notify.warning(\"Enter some data!\")\n\nКожне зображення повинно бути виведене в HTML розмітці як окремий елемент списку зображень.\n\nКоли користувач натискає кнопку \"load more\", скрипт повинен зробити запит на сервер API Unsplash для наступної сторінки результатів пошуку та додати нові зображення до списку.\n\nЯкщо запит не повертає результатів, скрипт повинен вивести повідомлення про те, що не знайдено жодного зображення: Notify.warning(\"Sorry no images were found\");\n\nКоли були завантажені всі сторінки результатів пошуку, кнопка \"load more\" повинна бути прихована (додати клас Єis-hidden\") і показати поп ап Notify.warning(\"The end!\");\n */\nclass UnsplashAPI {\n  #BASE_URL = 'https://api.unsplash.com/search/photos';\n  #API_KEY = 'LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n\n  #page;\n  #searchQuery;\n  #totalPage;\n\n  #searchParams = new URLSearchParams({\n    per_page: 30,\n    client_id: this.#API_KEY,\n    color: 'black',\n    orientation: 'portrait',\n  });\n\n  constructor() {\n    this.#page = 1;\n    this.#searchQuery = '';\n    this.#totalPage = null;\n  }\n\n  getImages() {\n    return fetch(\n      `${this.#BASE_URL}?${this.#searchParams}&page=${this.#page}&query=${\n        this.#searchQuery\n      }`\n    ).then(r => r.json());\n  }\n\n  //   updadePage() {}\n\n  get page() {\n    return this.#page;\n  }\n\n  set page(newPage) {\n    this.#page = newPage;\n  }\n  get totalPage() {\n    return this.#totalPage;\n  }\n  set totalPage(newtotalPage) {\n    this.#totalPage = newtotalPage;\n  }\n  set searchQuery(newQuery) {\n    this.#searchQuery = newQuery;\n  }\n  get searchQuery() {\n    return this.#searchQuery;\n  }\n}\n\nconst refs = {\n  form: document.querySelector('.js-search-form'),\n  list: document.querySelector('.js-gallery'),\n  loadMoreBtn: document.querySelector('.js-load-more'),\n};\nconst { form, list, loadMoreBtn } = refs;\n\nconst unsplashApi = new UnsplashAPI();\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  const query = e.target.elements.query.value.trim();\n\n  if (!query) return;\n\n  list.innerHTML = '';\n  unsplashApi.page = 1;\n  unsplashApi.searchQuery = query;\n\n  unsplashApi.getImages().then(data => {\n    if (data.total === 0) return;\n\n    unsplashApi.totalPage = data.total_pages;\n\n    list.insertAdjacentHTML('beforeend', createGalleryCards(data.results));\n\n    if (unsplashApi.page !== data.total_pages)\n      loadMoreBtn.classList.remove('is-hidden');\n  });\n}\n\nfunction handleClickLoadMore() {\n  unsplashApi.page += 1;\n\n  unsplashApi.getImages().then(data => {\n    if (unsplashApi.page === unsplashApi.totalPage) {\n      loadMoreBtn.classList.add('is-hidden');\n    }\n    list.insertAdjacentHTML('beforeend', createGalleryCards(data.results));\n  });\n}\n\nfunction createGalleryCards(images) {\n  return images\n    .map(\n      ({ urls, alt_description }) => `<li class=\"gallery__item\">\n      <img src=\"${urls.small}\" alt=\"${alt_description}\" class=\"gallery-img\">\n  </li>`\n    )\n    .join('');\n}\n\nform.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', handleClickLoadMore);\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","set","writable","$665014edacbfe17b$exports","instance","Constructor","$37616d1d2d9e1de3$exports","$37616d1d2d9e1de3$var$_classExtractFieldDescriptor","$37616d1d2d9e1de3$var$_classApplyDescriptorGet","$37616d1d2d9e1de3$var$_interopRequireDefault","parcelRequire","__esModule","$665bb80dc57e205a$exports","$665bb80dc57e205a$var$_checkPrivateRedeclaration","$a11a0d8e92c06afc$exports","$a11a0d8e92c06afc$var$_classExtractFieldDescriptor","$a11a0d8e92c06afc$var$_classApplyDescriptorSet","$a11a0d8e92c06afc$var$_interopRequireDefault","$74e7f8130373505f$var$_defineProperties","target","props","i","length","enumerable","configurable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$6756f0db6f988caf$var$_BASE_URL","WeakMap","$6756f0db6f988caf$var$_API_KEY","$6756f0db6f988caf$var$_page","$6756f0db6f988caf$var$_searchQuery","$6756f0db6f988caf$var$_totalPage","$6756f0db6f988caf$var$_searchParams","$6756f0db6f988caf$var$UnsplashAPI","UnsplashAPI","$parcel$interopDefault","this","URLSearchParams","per_page","client_id","color","orientation","fetch","concat","then","r","json","newPage","newtotalPage","newQuery","$6756f0db6f988caf$var$refs","form","document","querySelector","list","loadMoreBtn","$6756f0db6f988caf$var$form","$6756f0db6f988caf$var$list","$6756f0db6f988caf$var$loadMoreBtn","$6756f0db6f988caf$var$unsplashApi","$6756f0db6f988caf$var$createGalleryCards","images","map","param","urls","alt_description","small","join","addEventListener","e","preventDefault","query","elements","trim","innerHTML","page","searchQuery","getImages","data","total","totalPage","total_pages","insertAdjacentHTML","results","classList","remove","add"],"version":3,"file":"gallery.40d720c7.js.map"}