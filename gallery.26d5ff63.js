const e={form:document.querySelector(".js-search-form"),list:document.querySelector(".js-gallery"),loadMoreBtn:document.querySelector(".js-load-more")},{form:t,list:a,loadMoreBtn:s}=e,r=new class{#e="https://api.unsplash.com/search/photos";#t="LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc";#a;#s;#r;#n=new URLSearchParams({per_page:30,client_id:this.#t,color:"black",orientation:"portrait"});constructor(){this.#a=1,this.#s="",this.#r=null}getImages(){return fetch(`${this.#e}?${this.#n}&page=${this.#a}&query=${this.#s}`).then((e=>e.json()))}get page(){return this.#a}set page(e){this.#a=e}get totalPage(){return this.#r}set totalPage(e){this.#r=e}set searchQuery(e){this.#s=e}get searchQuery(){return this.#s}};function n(e){return e.map((({urls:e,alt_description:t})=>`<li class="gallery__item">\n      <img src="${e.small}" alt="${t}" class="gallery-img">\n  </li>`)).join("")}t.addEventListener("submit",(function(e){e.preventDefault();const t=e.target.elements.query.value.trim();t&&(a.innerHTML="",r.page=1,r.searchQuery=t,r.getImages().then((e=>{0!==e.total&&(r.totalPage=e.total_pages,a.insertAdjacentHTML("beforeend",n(e.results)),r.page!==e.total_pages&&s.classList.remove("is-hidden"))})))})),s.addEventListener("click",(function(){r.page+=1,r.getImages().then((e=>{r.page===r.totalPage&&s.classList.add("is-hidden"),a.insertAdjacentHTML("beforeend",n(e.results))}))}));
//# sourceMappingURL=gallery.26d5ff63.js.map
