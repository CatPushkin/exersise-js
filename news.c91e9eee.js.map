{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,QAC9BC,EAAgBF,SAASG,eAAe,QAC3BJ,EAAKK,SAASC,KACtBC,aAAa,OAAO,IAAIC,MAAOC,cAAcC,MAAM,KAAK,IAEnE,IAAMC,EAAW,yBACXC,EAAU,mCAuDhBZ,EAAKa,iBAAiB,UApCtB,SAAmBC,GACjBA,EAAEC,iBAEF,IAAMC,EAAQhB,EAAKK,SAASY,OAAOC,MAC7BZ,EAAON,EAAKK,SAASC,KAAKY,MAC1BC,EAASnB,EAAKK,SAASe,KAAKF,MAElC,GAAc,KAAVF,EAAc,OAAOlB,EAAAuB,OAAOC,QAAQ,mBAU1C,SAAiBC,G,IAAEP,EAAFO,EAAEP,MAAOG,EAATI,EAASJ,OAAQb,EAAjBiB,EAAiBjB,KAC1BkB,EAAM,GAA4BC,OAAzBd,EAAS,kBAAgCc,OAAhBT,EAAM,YAAyBS,OAAfN,EAAO,UAAuBM,OAAfnB,EAAK,YAAkBmB,OAARb,GACtF,OAAOc,MAAMF,GAAKG,MAAK,SAAAC,G,OAAOA,EAAIC,M,KAVlCC,CAAQ,CAAEd,QAAOG,SAAQb,SACtBqB,MAAK,SAAAC,GACJ,IAAMG,EAA8BH,EAAII,SA3BhBC,KAAI,SAAAC,GAC9B,IAAMC,EAqCV,SAAoBZ,G,IAAEa,EAAFb,EAAEa,MAAOC,EAATd,EAASc,WAAYC,EAArBf,EAAqBe,YAOvC,MAAO,CACLD,WAL0BA,GACxB,uGAKFD,MARoBA,EAAMG,OAAS,GAAKH,EAAMI,MAAM,EAAG,IAAM,MAAQJ,EASrEE,YAR0C,KAAhBA,EAAqB,UAAYA,E,CAvC9CG,CAAWP,GAChBE,EAAmCD,EAAnCC,MAAOE,EAA4BH,EAA5BG,YAAaD,EAAeF,EAAfE,WAC5B,MAAO,sGAI6BZ,OAF4BY,EAAW,8FAGlCZ,OADLW,EAAM,sDACWX,OAAZa,EAAY,2C,IAKtCI,KAAK,IAelBvC,EAAcwC,mBAAmB,aAAcZ,E,IAEhDa,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E","sources":["src/js/news.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('form');\nconst newsContainer = document.getElementById('news');\nconst calendarEl = form.elements.date;\ncalendarEl.setAttribute('max', new Date().toISOString().split('T')[0]);\n\nconst BASE_URL = 'https://newsapi.org/v2';\nconst API_KEY = '94e7350e65ba433baccbec406066c2bd';\n\nfunction createNewsCardMarkup(newsArray) {\n  const newsCards = newsArray.map(news => {\n    const data = formatData(news);\n    const { title, description, urlToImage } = data;\n    return `\n      <div class=\"news-card\">\n        <div class=\"news-card-image\" style=\"background-image: url(${urlToImage})\"></div>\n        <div class=\"news-card-content\">\n          <h2 class=\"news-card-title\">${title}</h2>\n          <p class=\"news-card-description\">${description}</p>\n        </div>\n      </div>\n    `;\n  });\n  return newsCards.join('');\n}\n\nfunction fetchNews(e) {\n  e.preventDefault();\n\n  const query = form.elements.search.value;\n  const date = form.elements.date.value;\n  const sortBy = form.elements.sort.value;\n\n  if (query === '') return Notify.failure('Enter the data');\n\n  getNews({ query, sortBy, date })\n    .then(res => {\n      const markup = createNewsCardMarkup(res.articles);\n      newsContainer.insertAdjacentHTML('afterbegin', markup);\n    })\n    .catch(err => console.log(err));\n}\n\nfunction getNews({ query, sortBy, date }) {\n  const url = `${BASE_URL}/everything?q=${query}&sortBy=${sortBy}&from=${date}&apiKey=${API_KEY}`;\n  return fetch(url).then(res => res.json());\n}\n\nfunction formatData({ title, urlToImage, description }) {\n  const formatedTitle = title.length > 40 ? title.slice(0, 40) + '...' : title;\n  const formatedDescription = description === '' ? 'unknown' : description;\n  const formatedUrlToImage = !urlToImage\n    ? 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgsxj0bCDD0I6uKota2Pma1doW0GyrEIFQYjGU4ZIvvA&s'\n    : urlToImage;\n\n  return {\n    urlToImage: formatedUrlToImage,\n    title: formatedTitle,\n    description: formatedDescription,\n  };\n}\n\nform.addEventListener('submit', fetchNews);\n"],"names":["$h6c0i","parcelRequire","$963508ebb68a0a78$var$form","document","querySelector","$963508ebb68a0a78$var$newsContainer","getElementById","elements","date","setAttribute","Date","toISOString","split","$963508ebb68a0a78$var$BASE_URL","$963508ebb68a0a78$var$API_KEY","addEventListener","e","preventDefault","query","search","value","sortBy","sort","Notify","failure","param","url","concat","fetch","then","res","json","$963508ebb68a0a78$var$getNews","markup","articles","map","news","data","title","urlToImage","description","length","slice","$963508ebb68a0a78$var$formatData","join","insertAdjacentHTML","catch","err","console","log"],"version":3,"file":"news.c91e9eee.js.map"}