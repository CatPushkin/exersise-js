{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAaC,SAASC,cAAc,eAEpCC,GADcF,SAASC,cAAc,qBACzBD,SAASC,cAAc,gBACnCE,EAAUH,SAASC,cAAc,cACjCG,EAAUJ,SAASC,cAAc,YAEjCI,EAAW,0CACXC,EAAY,WACZC,EAAS,mCA6DfL,EAAUM,iBAAiB,SA3D3B,WACE,IAAMC,EAAQV,EAAWW,MACzB,IAAKD,EAAO,OAAOZ,EAAAc,OAAOC,QAAQ,mBAIpC,SAAmBH,GAELL,EAAJS,UAAY,GACpBV,EAAQW,UAAY,6BACpBX,EAAQY,UAAUC,IAAI,WACtBb,EAAQY,UAAUE,OAAO,SAG2C,IAA9DC,EAAS,MAAkCC,OAA5BV,EAAM,wBAA6BU,OAAPZ,GAC3Ca,EAAM,GAAcD,OAAXd,GAAuBc,OAAZb,GAAmBa,OAAPD,GACtCG,MAAMD,GACHE,MAAK,SAAAC,GACJ,IAAKA,EAAIC,GAIL,MAHFpB,EAAQS,UAAY,GACpBV,EAAQY,UAAUU,QAAQ,UAAW,SACrCtB,EAAQW,UAAY,KAAwBK,OAAjBpB,EAAWW,MAAM,4BACtC,IAAIgB,MAAM,sBAElB,OAAOH,EAAII,M,IAEZL,MAAK,SAAAM,GACJzB,EAAQU,UAAY,GAQ1B,SAAoCe,GAClC,IACEC,EAIED,EAJFC,KACAC,EAGEF,EAHFG,IAAOD,QAASE,EAGdJ,EAFFK,KAAQC,EAAIF,EAAJE,KAAMC,EAAUH,EAAVG,WAAYC,EAAQJ,EAARI,SAC1BC,EACET,EADFU,KAAQD,MAE0BE,EAAAX,EAAKY,QAAQ,GAAzCC,EAA4BF,EAA5BE,KAAMC,EAAsBH,EAAtBG,YAAaT,EAASM,EAATN,KAC3B7B,EAAQS,UAAY,+DACyBM,OAATU,EAAK,MAChBV,OADoBW,EAAQ,oCAIFX,OAH1Be,EAAKS,QAAQ,GAAG,+GAIxBxB,OADkCsB,EAAK,4BAInBtB,OAHpBuB,EAAY,sFAKevB,OAFPc,EAAK,wEAGHd,OADKgB,EAAWQ,QAAQ,GAAG,qDAE5BxB,OADCiB,EAASO,QAAQ,GAAG,kDACfxB,OAANkB,EAAM,qB,CA5BxCO,CAA2BhB,E,IAE5BiB,MAAMC,QAAQC,I,CA3BjBC,CAAUvC,E","sources":["src/js/weather.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst inputField = document.querySelector('.search-bar');\nconst locationBtn = document.querySelector('#get_location_btn');\nconst searchBtn = document.querySelector('#search_btn');\nconst infoTxt = document.querySelector('.info_text');\nconst content = document.querySelector('.content');\n\nconst BASE_URL = 'https://api.openweathermap.org/data/2.5';\nconst END_POINT = '/weather';\nconst APP_ID = '522f7ec766b55c89fccbc47a4e7a72c0'; // SECRET API KEY\n\nfunction handleSubmit() {\n  const query = inputField.value;\n  if (!query) return Notify.failure('Enter the data');\n  fetchData(query);\n}\n\nfunction fetchData(query) {\n  // перед запитом\n  content.innerHTML = '';\n  infoTxt.innerText = 'Getting weather details...';\n  infoTxt.classList.add('pending');\n  infoTxt.classList.remove('error');\n\n  // якщо при запиті response приходить ok то запускай функцію createWeatherDetailsMarkup аби зарендерити у content розмітку погоди\n  const PARAMS = `?q=${query}&units=metric&appid=${APP_ID}`;\n  const url = `${BASE_URL}${END_POINT}${PARAMS}`;\n  fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        content.innerHTML = '';\n        infoTxt.classList.replace('pending', 'error');\n        infoTxt.innerText = `❌ ${inputField.value} isn't a valid city name`;\n        throw new Error('Enter invalid city');\n      }\n      return res.json();\n    })\n    .then(data => {\n      infoTxt.innerHTML = '';\n      createWeatherDetailsMarkup(data);\n    })\n    .catch(console.log);\n\n  // якщо при запиті response приходить не ok то:\n}\n\nfunction createWeatherDetailsMarkup(data) {\n  const {\n    name,\n    sys: { country },\n    main: { temp, feels_like, humidity },\n    wind: { speed },\n  } = data;\n  const { icon, description, main } = data.weather[0];\n  content.innerHTML = ` <div class=\"weather\">\n        <h2 class=\"city\">Weather in ${name}, ${country}</h2>\n        <h1 class=\"temp\">${temp.toFixed(0)} °C</h1>\n        <div class=\"flex\">\n            <img\n            src=\"https://openweathermap.org/img/wn/${icon}.png\"\n            alt=\"${description}\"\n            class=\"icon\"\n            />\n            <div class=\"description\">${main}</div>\n        </div>\n        <div class=\"feels_like\">Feels like: ${feels_like.toFixed(0)}°C</div>\n        <div class=\"humidity\">Humidity:${humidity.toFixed(0)}</div>\n        <div class=\"wind\">Wind speed: ${speed}</div>\n    </div>`;\n}\nsearchBtn.addEventListener('click', handleSubmit);\n"],"names":["$h6c0i","parcelRequire","$b7c37e8f14632f7d$var$inputField","document","querySelector","$b7c37e8f14632f7d$var$searchBtn","$b7c37e8f14632f7d$var$infoTxt","$b7c37e8f14632f7d$var$content","$b7c37e8f14632f7d$var$BASE_URL","$b7c37e8f14632f7d$var$END_POINT","$b7c37e8f14632f7d$var$APP_ID","addEventListener","query","value","Notify","failure","innerHTML","innerText","classList","add","remove","PARAMS","concat","url","fetch","then","res","ok","replace","Error","json","data","name","country","sys","_main","main","temp","feels_like","humidity","speed","wind","ref","weather","icon","description","toFixed","$b7c37e8f14632f7d$var$createWeatherDetailsMarkup","catch","console","log","$b7c37e8f14632f7d$var$fetchData"],"version":3,"file":"weather.7b8bf3b9.js.map"}