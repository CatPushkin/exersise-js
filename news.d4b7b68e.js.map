{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,QAC9BC,EAAgBF,SAASG,eAAe,QAC3BJ,EAAKK,SAASC,KACtBC,aAAa,OAAO,IAAIC,MAAOC,cAAcC,MAAM,KAAK,IA0DnEV,EAAKW,iBAAiB,UApCtB,SAAmBC,GACjBA,EAAEC,iBAEF,MAAMC,EAAQd,EAAKK,SAASU,OAAOC,MAC7BV,EAAON,EAAKK,SAASC,KAAKU,MAC1BC,EAASjB,EAAKK,SAASa,KAAKF,MAElC,GAAc,KAAVF,EAAc,OAAOhB,EAAAqB,OAAOC,QAAQ,mBAU1C,UAAiBN,MAAEA,EAAKG,OAAEA,EAAMX,KAAEA,IAEhC,OAAOe,MADK,uCAA4BP,YAAgBG,UAAeX,6CACrDgB,MAAKC,GAAOA,EAAIC,Q,EAVlCC,CAAQ,C,MAAEX,E,OAAOG,E,KAAQX,IACtBgB,MAAKC,IACJ,MAAMG,EAA8BH,EAAII,SA3BhBC,KAAIC,IAC9B,MAAMC,EAqCV,UAAoBC,MAAEA,EAAKC,WAAEA,EAAUC,YAAEA,IAOvC,MAAO,CACLD,WAL0BA,GACxB,uGAKFD,MARoBA,EAAMG,OAAS,GAAKH,EAAMI,MAAM,EAAG,IAAM,MAAQJ,EASrEE,YAR0C,KAAhBA,EAAqB,UAAYA,E,CAvC9CG,CAAWP,IAClBE,MAAEA,EAAKE,YAAEA,EAAWD,WAAEA,GAAeF,EAC3C,MAAO,sGAEyDE,8FAE5BD,sDACKE,2CAGxC,IAEcI,KAAK,IAelBlC,EAAcmC,mBAAmB,aAAcZ,EAAO,IAEvDa,OAAMC,GAAOC,QAAQC,IAAIF,I","sources":["src/js/news.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('form');\nconst newsContainer = document.getElementById('news');\nconst calendarEl = form.elements.date;\ncalendarEl.setAttribute('max', new Date().toISOString().split('T')[0]);\n\nconst BASE_URL = 'https://newsapi.org/v2';\nconst API_KEY = '94e7350e65ba433baccbec406066c2bd';\n\nfunction createNewsCardMarkup(newsArray) {\n  const newsCards = newsArray.map(news => {\n    const data = formatData(news);\n    const { title, description, urlToImage } = data;\n    return `\n      <div class=\"news-card\">\n        <div class=\"news-card-image\" style=\"background-image: url(${urlToImage})\"></div>\n        <div class=\"news-card-content\">\n          <h2 class=\"news-card-title\">${title}</h2>\n          <p class=\"news-card-description\">${description}</p>\n        </div>\n      </div>\n    `;\n  });\n  return newsCards.join('');\n}\n\nfunction fetchNews(e) {\n  e.preventDefault();\n\n  const query = form.elements.search.value;\n  const date = form.elements.date.value;\n  const sortBy = form.elements.sort.value;\n\n  if (query === '') return Notify.failure('Enter the data');\n\n  getNews({ query, sortBy, date })\n    .then(res => {\n      const markup = createNewsCardMarkup(res.articles);\n      newsContainer.insertAdjacentHTML('afterbegin', markup);\n    })\n    .catch(err => console.log(err));\n}\n\nfunction getNews({ query, sortBy, date }) {\n  const url = `${BASE_URL}/everything?q=${query}&sortBy=${sortBy}&from=${date}&apiKey=${API_KEY}`;\n  return fetch(url).then(res => res.json());\n}\n\nfunction formatData({ title, urlToImage, description }) {\n  const formatedTitle = title.length > 40 ? title.slice(0, 40) + '...' : title;\n  const formatedDescription = description === '' ? 'unknown' : description;\n  const formatedUrlToImage = !urlToImage\n    ? 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgsxj0bCDD0I6uKota2Pma1doW0GyrEIFQYjGU4ZIvvA&s'\n    : urlToImage;\n\n  return {\n    urlToImage: formatedUrlToImage,\n    title: formatedTitle,\n    description: formatedDescription,\n  };\n}\n\nform.addEventListener('submit', fetchNews);\n"],"names":["$iQIUW","parcelRequire","$4ebb81a1f389e6fd$var$form","document","querySelector","$4ebb81a1f389e6fd$var$newsContainer","getElementById","elements","date","setAttribute","Date","toISOString","split","addEventListener","e","preventDefault","query","search","value","sortBy","sort","Notify","failure","fetch","then","res","json","$4ebb81a1f389e6fd$var$getNews","markup","articles","map","news","data","title","urlToImage","description","length","slice","$4ebb81a1f389e6fd$var$formatData","join","insertAdjacentHTML","catch","err","console","log"],"version":3,"file":"news.d4b7b68e.js.map"}