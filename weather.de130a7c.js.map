{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAaC,SAASC,cAAc,eAEpCC,GADcF,SAASC,cAAc,qBACzBD,SAASC,cAAc,gBACnCE,EAAUH,SAASC,cAAc,cACjCG,EAAUJ,SAASC,cAAc,YAiEvCC,EAAUG,iBAAiB,SA3D3B,WACE,MAAMC,EAAQP,EAAWQ,MACzB,IAAKD,EAAO,OAAOT,EAAAW,OAAOC,QAAQ,mBAIpC,SAAmBH,GAELF,EAAJM,UAAY,GACpBP,EAAQQ,UAAY,6BACpBR,EAAQS,UAAUC,IAAI,WACtBV,EAAQS,UAAUE,OAAO,SAKzBC,MADY,qDADST,yDAGlBU,MAAKC,IACJ,IAAKA,EAAIC,GAIL,MAHFd,EAAQM,UAAY,GACpBP,EAAQS,UAAUO,QAAQ,UAAW,SACrChB,EAAQQ,UAAY,KAAGZ,EAAIQ,gCACrB,IAAIa,MAAM,sBAElB,OAAOH,EAAII,MAAM,IAElBL,MAAKM,IACJnB,EAAQO,UAAY,GAQ1B,SAAoCY,GAClC,MAAMC,KACJA,EACAC,KAAKC,QAAEA,GACPC,MAAMC,KAAEA,EAAIC,WAAEA,EAAUC,SAAEA,GAC1BC,MAAMC,MAAEA,IACNT,GACEU,KAAEA,EAAIC,YAAEA,EAAWP,KAAEA,GAASJ,EAAKY,QAAQ,GACjD9B,EAAQM,UAAY,+DACgBa,MAASE,oCACpBE,EAAKQ,QAAQ,gHAGaH,4BAClCC,sFAGoBP,wEAEOE,EAAWO,QAAQ,sDACxBN,EAASM,QAAQ,mDAClBJ,qB,CA5BlCK,CAA2Bd,EAAK,IAEjCe,MAAMC,QAAQC,I,CA3BjBC,CAAUlC,E","sources":["src/js/weather.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst inputField = document.querySelector('.search-bar');\nconst locationBtn = document.querySelector('#get_location_btn');\nconst searchBtn = document.querySelector('#search_btn');\nconst infoTxt = document.querySelector('.info_text');\nconst content = document.querySelector('.content');\n\nconst BASE_URL = 'https://api.openweathermap.org/data/2.5';\nconst END_POINT = '/weather';\nconst APP_ID = '522f7ec766b55c89fccbc47a4e7a72c0'; // SECRET API KEY\n\nfunction handleSubmit() {\n  const query = inputField.value;\n  if (!query) return Notify.failure('Enter the data');\n  fetchData(query);\n}\n\nfunction fetchData(query) {\n  // перед запитом\n  content.innerHTML = '';\n  infoTxt.innerText = 'Getting weather details...';\n  infoTxt.classList.add('pending');\n  infoTxt.classList.remove('error');\n\n  // якщо при запиті response приходить ok то запускай функцію createWeatherDetailsMarkup аби зарендерити у content розмітку погоди\n  const PARAMS = `?q=${query}&units=metric&appid=${APP_ID}`;\n  const url = `${BASE_URL}${END_POINT}${PARAMS}`;\n  fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        content.innerHTML = '';\n        infoTxt.classList.replace('pending', 'error');\n        infoTxt.innerText = `❌ ${inputField.value} isn't a valid city name`;\n        throw new Error('Enter invalid city');\n      }\n      return res.json();\n    })\n    .then(data => {\n      infoTxt.innerHTML = '';\n      createWeatherDetailsMarkup(data);\n    })\n    .catch(console.log);\n\n  // якщо при запиті response приходить не ok то:\n}\n\nfunction createWeatherDetailsMarkup(data) {\n  const {\n    name,\n    sys: { country },\n    main: { temp, feels_like, humidity },\n    wind: { speed },\n  } = data;\n  const { icon, description, main } = data.weather[0];\n  content.innerHTML = ` <div class=\"weather\">\n        <h2 class=\"city\">Weather in ${name}, ${country}</h2>\n        <h1 class=\"temp\">${temp.toFixed(0)} °C</h1>\n        <div class=\"flex\">\n            <img\n            src=\"https://openweathermap.org/img/wn/${icon}.png\"\n            alt=\"${description}\"\n            class=\"icon\"\n            />\n            <div class=\"description\">${main}</div>\n        </div>\n        <div class=\"feels_like\">Feels like: ${feels_like.toFixed(0)}°C</div>\n        <div class=\"humidity\">Humidity:${humidity.toFixed(0)}</div>\n        <div class=\"wind\">Wind speed: ${speed}</div>\n    </div>`;\n}\nsearchBtn.addEventListener('click', handleSubmit);\n"],"names":["$iQIUW","parcelRequire","$83ee39fa453a4c23$var$inputField","document","querySelector","$83ee39fa453a4c23$var$searchBtn","$83ee39fa453a4c23$var$infoTxt","$83ee39fa453a4c23$var$content","addEventListener","query","value","Notify","failure","innerHTML","innerText","classList","add","remove","fetch","then","res","ok","replace","Error","json","data","name","sys","country","main","temp","feels_like","humidity","wind","speed","icon","description","weather","toFixed","$83ee39fa453a4c23$var$createWeatherDetailsMarkup","catch","console","log","$83ee39fa453a4c23$var$fetchData"],"version":3,"file":"weather.de130a7c.js.map"}